<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
  <head>
    
    <!-- Relative Navigation -->
    
    <link rel="up" href="Collections" />
    <link rel="prev" href="Collections" />
    <link rel="next" href="Collection_Keys" />
    
    <!-- Absolute Navigation -->
    
    <link rel="top" href="Title" />
    <link rel="start first" href="." />
    <link rel="copyright" href="Copyrights" />
    <link rel="contents" href="Contents" />
    <link rel="glossary" href="Glossary" />
    <link rel="index" href="Index" />
    <link rel="last author" href="Colophon" />
    
    <!-- Chapters -->
    
    <link rel="chapter" title="About This Book" href="Preface" />
    <link rel="chapter" title="1 Introduction" href="Introduction" />
    <link rel="chapter" title="2 Syntax" href="Syntax" />
    <link rel="chapter" title="3 Program Structure" href="Program_Structure" />
    <link rel="chapter" title="4 Program Control" href="Program_Control" />
    <link rel="chapter" title="5 Types and Classes" href="Types_and_Classes" />
    <link rel="chapter" title="6 Functions" href="Functions" />
    <link rel="chapter" title="7 Conditions" href="Conditions" />
    <link rel="chapter" title="8 Collections" href="Collections" />
    <link rel="chapter" title="9 Sealing" href="Sealing" />
    <link rel="chapter" title="10 Macros" href="Macros" />
    <link rel="chapter" title="11 The Built-In Classes" href="Built-In_Classes" />
    <link rel="chapter" title="12 The Built-In Functions" href="Built-In_Functions" />
    <link rel="chapter" title="13 Other Built-In Objects" href="Other_Built-In_Objects" />
    <link rel="chapter" title="14 The Built-In Macros and Special Definitions" href="Built-In_Macros_and_Special_Definitions" />
    
    <!-- Appendices -->
    
    <link rel="appendix" title="A BNF" href="BNF" />
    <link rel="appendix" title="B Exported Names" href="Exported_Names" />
    
    <!-- Stylesheets -->
    
    <link rel="stylesheet" href="styles/common.css" type="text/css" />
    <link rel="stylesheet" href="styles/nav-top-fixed.css" type="text/css" media="handheld" />
    <link rel="stylesheet" href="styles/nav-left-fixed.css" type="text/css" media="screen" title="Navigation at Left" />
    <link rel="stylesheet alternate" href="styles/nav-top-fixed.css" type="text/css" media="screen" title="Navigation at Top" />

    <title>Overview &mdash; 8. Collections &mdash; The DRM</title>
  </head>
  <body class="content">

    <div id="header">
      <div id="navigation-header">
	<div id="navigation-top">
	  <div class="background">
	    <p id="book-title">
	    <img class="book-icon" alt="" src="images/color-square-small.png" width="22" height="21" />
	    <a href="Title"><img class="book-title" alt="The Dylan Reference Manual" src="images/book-title.png" width="343" height="28" /></a>
	  </p>
	  <p id="navigation-core">
	    <a class="previous" accesskey="p" title="Previous Page" href="Collections"><span>&larr; Previous</span></a>
	    <a class="next" accesskey="n" title="Next Page" href="Collection_Keys"><span>Next Page &rarr;</span></a>
	    <a class="up" accesskey="u" title="Chapter Start" href="Collections"><span>Up</span></a>
	    <a class="start" accesskey="s" title="Start of Book" href="Title"><span>Start</span></a>
	    <a class="contents" accesskey="c" title="Contents" href="Contents"><span>Contents</span></a>
	    <a class="index" accesskey="i" title="Index" href="Index"><span>Index</span></a>
	  </p>
	</div>
	</div>
	<div id="navigation-TOC">
	  <ul class="front-matter">
	    <li id="book-start"><a href="Title">Start</a></li>
	    <li><a href="Contents">Contents</a></li>
	    <li><a href="Preface">About This Book</a></li>
	  </ul>
	  <ol class="chapters">
	    <li><a href="Introduction">Introduction</a></li>
	    <li><a href="Syntax">Syntax</a></li>
	    <li><a href="Program_Structure">Program Structure</a></li>
	    <li><a href="Program_Control">Program Control</a></li>
	    <li><a href="Types_and_Classes">Types and Classes</a></li>
	    <li><a href="Functions">Functions</a></li>
	    <li><a href="Conditions">Conditions</a></li>
	    <li class="current parent"><a href="Collections">Collections</a>
	      <ul class="sections">
		<li id="current" class="subsections"><a href="Collections_Overview">Overview</a>
		  <ul class="page-TOC">
		    <li><a href="#HEADING-60-4">The Iteration Protocol</a></li>
		  </ul>
		</li>
		<li><a href="Collection_Keys">Collection Keys</a></li>
		<li><a href="Iteration_Stability_and_Natural_Order">Iteration Stability and Natural Order</a></li>
		<li><a href="Mutability">Mutability</a></li>
		<li><a href="Collection_Alteration_and_Allocation">Collection Alteration and Allocation</a></li>
		<li><a href="Collection_Alignment">Collection Alignment</a></li>
		<li><a href="Defining_a_New_Collection_Class">Defining a New Collection Class</a></li>
		<li><a href="Tables">Tables</a></li>
		<li><a href="Element_Types">Element Types</a></li>
		<li><a href="Limited_Collection_Types">Limited Collection Types</a></li>
	      </ul>
	    </li>
	    <li><a href="Sealing">Sealing</a></li>
	    <li><a href="Macros">Macros</a></li>
	    <li><a href="Built-In_Classes">The Built-In Classes</a></li>
	    <li><a href="Built-In_Functions">The Built-In Functions</a></li>
	    <li><a href="Other_Built-In_Objects">Other Built-In Objects</a></li>
	    <li><a href="Built-In_Macros_and_Special_Definitions">The Built-In Macros and Special Definitions</a></li>
	  </ol>
	  <ol class="appendices">
	    <li><a href="BNF">BNF</a></li>
	    <li><a href="Exported_Names">Exported Names</a></li>
	  </ol>
	  <ul class="back-matter">
	    <li><a href="Glossary">Glossary</a></li>
	    <li><a href="Index">Index</a></li>
	    <li><a href="Colophon">Colophon</a></li>
	  </ul>
	  <ul class="errata">
	    <li><a href="Errata">Errata</a></li>
	  </ul>
	</div>
      </div>

      <hr />

    </div>

    <div id="content">
      <div id="section-header">
	<p id="section-prefix">Chapter 8</p>
	<p id="section-name">Collections</p>
      </div>

      <a name="HEADING-60-0"></a>
      <a name="UID-Collections-2757"></a>
      <h1 class="section-title"><a name="IX-983">Overview</a></h1>
      <p>Collections are aggregate <a name="IX-984">data structures</a> that map
	from <dfn id="IX-985">keys</dfn> to <dfn id="IX-986">elements</dfn>. All collections are
	instances of the class <code id="IX-987">&lt;collection&gt;</code>.</p>
      <p><code>&lt;collection&gt;</code> has two covering
	subclasses: <code id="IX-988">&lt;sequence&gt;</code>
	and <code id="IX-989">&lt;explicit-key-collection&gt;</code>. Every concrete subclass
	of <code>&lt;collection&gt;</code> must also be a subclass of <code>&lt;sequence&gt;</code>
	or <code>&lt;explicit-key-collection&gt;</code>. <dfn id="IX-990">Sequences</dfn> use
	successive non-negative integers as keys; <dfn id="IX-991">explicit key
	  collections</dfn> may use any object as a key. Both of these classes have predefined
	subclasses and may be additionally subclassed by
	programmers. See <a href="Collection_Classes#XREF-1398"><q>Collections</q> on page
	  206</a> for a complete description of these classes.</p>
      <p>A large number of functions are available on collections, including functions for
	iteration, mapping, random access of elements, sorting, filtering,
	etc. See <a href="Collection_Operations#XREF-1696"><q>Collection Operations</q> on page
	  294</a> for a complete description of these functions.</p>
      <a name="HEADING-60-4"></a>
      <a name="UID-Collections-6197"></a>
      <h2 class="subsection-title"><a name="IX-992">The Iteration Protocol</a></h2>
      <p>All collections implement an <dfn>iteration protocol</dfn> that allows iteration to be
	specified abstractly. Many higher level operations on collections can be defined in terms of
	only the iteration protocol. For many programs these higher level operations are sufficient;
	they will not need to use the iteration protocol directly. The iteration protocol is used by
	programs defining new collection types, and for certain types of iteration that cannot be
	handled by the built-in higher level operations.</p>
      <p>The iteration protocol centers on the notion of a <q><a name="IX-993">state</a></q>
	object for an iteration. Each collection class chooses its own most appropriate
	representation for an iteration state, and only the functions of the iteration protocol are
	affected by this choice.</p>
      <p><a name="IX-994">Use of the iteration protocol is based on the assumption that
	the collection over which iteration occurs remains static for the duration of the
	iteration.</a> That is, arbitrary changes to a mutable collection while an iteration is in
	progress may cause the iteration to produce unpredictable results.</p>
      <p>With notable exceptions, two or more iterations over the same collection are not guaranteed
	to produce the same values in the same order, even if the collection is unaltered. For
	details, see <a href="Iteration_Stability_and_Natural_Order#XREF-1001"><q>Iteration
	Stability and Natural Order</q></a> as follows.</p>
      <p>The built-in collection functions are implemented in terms of the iteration protocol. When
	defining a new collection class, a programmer need only define the iteration protocol for
	the class. Once this is done, instances of the class can be used with all the built-in
	collection functions. Of course, in some cases it will be more efficient to define methods
	on these functions optimized for the new class, rather than relying on the default
	implementation based on the iteration protocol.<a name="IX-995"></a></p>

    </div>

    <div id="footer">

      <hr />
      <address>The Dylan Reference Manual - 7 Apr 1998</address>
      <p id="navigation-footer">
	<a class="previous" accesskey="p" title="Previous Page" href="Collections"><span>&larr; Previous</span></a>
	<a class="next" accesskey="n" title="Next Page" href="Collection_Keys"><span>Next Page &rarr;</span></a>
	<a class="up" accesskey="u" title="Chapter Start" href="Collections"><span>Up</span></a>
	<a class="start" accesskey="s" title="Start of Book" href="Title"><span>Start</span></a>
	<a class="contents" accesskey="c" title="Contents" href="Contents"><span>Contents</span></a>
	<a class="index" accesskey="i" title="Index" href="Index"><span>Index</span></a>
      </p>
      <p>Copyright Apple Computer, Inc. 1996. Apple&reg; and the Apple logo are registered
	trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
      <p>Originally generated with Harlequin WebMaker&reg;, subsequently revised.</p>
    </div>
  </body>
</html>
