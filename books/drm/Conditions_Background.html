<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
  <head>
    
    <!-- Relative Navigation -->
    
    <link rel="up" href="Conditions" />
    <link rel="prev" href="Conditions" />
    <link rel="next" href="Conditions_Overview" />
    
    <!-- Absolute Navigation -->
    
    <link rel="top" href="Title" />
    <link rel="start first" href="." />
    <link rel="copyright" href="Copyrights" />
    <link rel="contents" href="Contents" />
    <link rel="glossary" href="Glossary" />
    <link rel="index" href="Index" />
    <link rel="last author" href="Colophon" />
    
    <!-- Chapters -->
    
    <link rel="chapter" title="About This Book" href="Preface" />
    <link rel="chapter" title="1 Introduction" href="Introduction" />
    <link rel="chapter" title="2 Syntax" href="Syntax" />
    <link rel="chapter" title="3 Program Structure" href="Program_Structure" />
    <link rel="chapter" title="4 Program Control" href="Program_Control" />
    <link rel="chapter" title="5 Types and Classes" href="Types_and_Classes" />
    <link rel="chapter" title="6 Functions" href="Functions" />
    <link rel="chapter" title="7 Conditions" href="Conditions" />
    <link rel="chapter" title="8 Collections" href="Collections" />
    <link rel="chapter" title="9 Sealing" href="Sealing" />
    <link rel="chapter" title="10 Macros" href="Macros" />
    <link rel="chapter" title="11 The Built-In Classes" href="Built-In_Classes" />
    <link rel="chapter" title="12 The Built-In Functions" href="Built-In_Functions" />
    <link rel="chapter" title="13 Other Built-In Objects" href="Other_Built-In_Objects" />
    <link rel="chapter" title="14 The Built-In Macros and Special Definitions" href="Built-In_Macros_and_Special_Definitions" />
    
    <!-- Appendices -->
    
    <link rel="appendix" title="A BNF" href="BNF" />
    <link rel="appendix" title="B Exported Names" href="Exported_Names" />
    
    <!-- Stylesheets -->
    
    <link rel="stylesheet" href="styles/common.css" type="text/css" />
    <link rel="stylesheet" href="styles/nav-top-fixed.css" type="text/css" media="handheld" />
    <link rel="stylesheet" href="styles/nav-left-fixed.css" type="text/css" media="screen" title="Navigation at Left" />
    <link rel="stylesheet alternate" href="styles/nav-top-fixed.css" type="text/css" media="screen" title="Navigation at Top" />

    <title>Background &mdash; 7. Conditions &mdash; The DRM</title>
  </head>
  <body class="content">

    <div id="header">
      <div id="navigation-header">
	<div id="navigation-top">
	  <div class="background">
	    <p id="book-title">
	    <img class="book-icon" alt="" src="images/color-square-small.png" width="22" height="21" />
	    <a href="Title"><img class="book-title" alt="The Dylan Reference Manual" src="images/book-title.png" width="343" height="28" /></a>
	  </p>
	  <p id="navigation-core">
	    <a class="previous" accesskey="p" title="Previous Page" href="Conditions"><span>&larr; Previous</span></a>
	    <a class="next" accesskey="n" title="Next Page" href="Conditions_Overview"><span>Next Page &rarr;</span></a>
	    <a class="up" accesskey="u" title="Chapter Start" href="Conditions"><span>Up</span></a>
	    <a class="start" accesskey="s" title="Start of Book" href="Title"><span>Start</span></a>
	    <a class="contents" accesskey="c" title="Contents" href="Contents"><span>Contents</span></a>
	    <a class="index" accesskey="i" title="Index" href="Index"><span>Index</span></a>
	  </p>
	</div>
	</div>
	<div id="navigation-TOC">
	  <ul class="front-matter">
	    <li id="book-start"><a href="Title">Start</a></li>
	    <li><a href="Contents">Contents</a></li>
	    <li><a href="Preface">About This Book</a></li>
	  </ul>
	  <ol class="chapters">
	    <li><a href="Introduction">Introduction</a></li>
	    <li><a href="Syntax">Syntax</a></li>
	    <li><a href="Program_Structure">Program Structure</a></li>
	    <li><a href="Program_Control">Program Control</a></li>
	    <li><a href="Types_and_Classes">Types and Classes</a></li>
	    <li><a href="Functions">Functions</a></li>
	    <li class="current parent"><a href="Conditions">Conditions</a>
	      <ul class="sections">
		<li id="current"><a href="Conditions_Background">Background</a></li>
		<li><a href="Conditions_Overview">Overview</a></li>
		<li><a href="Signalers_Conditions_and_Handlers">Signalers, Conditions, and Handlers</a></li>
		<li><a href="Exception_Handling">Exception Handling</a></li>
		<li><a href="Condition_Messages">Condition Messages</a></li>
		<li><a href="Introspective_Operations_on_Conditions">Introspective Operations</a></li>
	      </ul>
	    </li>
	    <li><a href="Collections">Collections</a></li>
	    <li><a href="Sealing">Sealing</a></li>
	    <li><a href="Macros">Macros</a></li>
	    <li><a href="Built-In_Classes">The Built-In Classes</a></li>
	    <li><a href="Built-In_Functions">The Built-In Functions</a></li>
	    <li><a href="Other_Built-In_Objects">Other Built-In Objects</a></li>
	    <li><a href="Built-In_Macros_and_Special_Definitions">The Built-In Macros and Special Definitions</a></li>
	  </ol>
	  <ol class="appendices">
	    <li><a href="BNF">BNF</a></li>
	    <li><a href="Exported_Names">Exported Names</a></li>
	  </ol>
	  <ul class="back-matter">
	    <li><a href="Glossary">Glossary</a></li>
	    <li><a href="Index">Index</a></li>
	    <li><a href="Colophon">Colophon</a></li>
	  </ul>
	  <ul class="errata">
	    <li><a href="Errata">Errata</a></li>
	  </ul>
	</div>
      </div>

      <hr />

    </div>

    <div id="content">
      <div id="section-header">
	<p id="section-prefix">Chapter 7</p>
	<p id="section-name">Conditions</p>
      </div>

      <a name="HEADING-53-0"></a>
      <a name="UID-Conditions-2630"></a>
      <h1 class="section-title"><a name="IX-887">Background</a></h1>
      <p>A long-standing problem of software engineering is the need to develop an organized way to
	deal with <a name="IX-888">exceptions</a>, situations that must be handled gracefully but
	that are not conceptually part of the normal operation of the program.</p>
      <p>Of course it is possible to program exception handling without using special linguistic
	features. For example, all functions could return an extra result that indicates whether
	they succeeded or failed, functions could take an extra argument that they consult if an
	exception occurs, or a designated exception-handling function could be called whenever a
	problem arises. All of these approaches have been used in one real-life system or another,
	but they are deficient in two ways. First, they are too informal and don't provide enough
	structure to allow an organized, systematic approach to exception handling. Second, and more
	importantly, the first two approaches do not provide textual separation between <q>normal
	code</q> and <q>code for dealing with exceptions</q>; exception-related code is sprinkled
	throughout the program. This leads to two problems: one is the well-known mistake of
	forgetting to test error codes and thus failing to detect an exception (perhaps because the
	programmer believed the error could never occur); the other is that program clarity is lost
	because it isn't easy to think about the main flow of the program while temporarily ignoring
	exceptions.</p>
      <p>All exception systems involve the concept of <q><a name="IX-889">signal</a></q> (sometimes
	with a different name, such as <q><a name="IX-890">raise</a></q>
	or <q><a name="IX-891">throw</a></q>) and the concept of <q><a name="IX-892">handle</a></q>
	(sometimes with a different name such as <q><a name="IX-893">on-unit</a></q>
	or <q><a name="IX-894">catch</a></q>). Most exception systems <a name="IX-895">dynamically
	match</a> signalers with handlers, first invoking the most recently established matching
	handler still active, and then, if that matching handler declines to handle the exception,
	invoking the next most recent matching handler, and so on.</p>
      <p>In addition, it is necessary to have a way to clean up when execution of a function is
	terminated by a nonlocal exit initiated either by the function itself or by something it
	explicitly or implicitly called.</p>
      <p>Exception systems may be name-based or object-based, they may be exiting or calling, and
	they may or may not provide formal recovery mechanisms.</p>
      <p>In a <a name="IX-896">name-based exception system</a> a program signals a name, and a
	handler matches if it handles the same name or <q>any.</q> The name is a constant in the
	source text of the program, not the result of an expression.</p>
      <p>In an <a name="IX-897">object-based exception system</a> a program signals an object,
	and a handler matches if it handles a type that object belongs to. Object-based exceptions
	are more powerful, because the object can communicate additional information from the
	signaler to the handler, because the object to be signaled can be chosen at run-time rather
	than signaling a fixed name, and because type inheritance in the handler matching adds
	abstraction and provides an organizing framework.</p>
      <p>In an <a name="IX-898">exiting exception system</a>, all dynamic state between the
	handler and the signaler is unwound before the handler receives control, as if signaling
	were a nonlocal goto from the signaler to the handler.</p>
      <p><a name="IX-899"></a>In a <a name="IX-900">calling exception system</a> the
	signaler is still active when a handler receives control. Control can be returned to the
	signaler, as if signaling were a function call from the signaler to the handler.</p>
      <p>Exiting exception systems are acceptable for errors. However, they do not work for an
	exception that is not an error and doesn't require an exit, either because there is a
	default way to handle it and recover or because it can safely be ignored by applications
	that don't care about it. <a name="IX-901">Non-error exceptions</a> are quite common
	in networked environments, in computers with gradually expiring resources (such as
	batteries), in complex user interfaces, and as one approach for reflecting hardware
	exceptions such as page protection violations or floating-point overflow to the
	application.</p>
      <p>Most languages have not formalized how to recover from exceptions, leaving programmers to
	invent ad hoc mechanisms. However, a <a name="IX-902">formal recovery</a> mechanism is
	useful for several reasons: it ensures that recovery is implemented correctly; it allows
	options for recovery to be categorized just as exceptions are categorized; and it
	allows <a name="IX-903">introspection</a> on the options for recovery, for example, by
	a debugger.</p>
      <p>The Dylan exception facility is object-based. It uses calling semantics but also provides
	exiting handlers. It provides formal recovery.<a name="IX-904"></a></p>

    </div>

    <div id="footer">

      <hr />
      <address>The Dylan Reference Manual - 7 Apr 1998</address>
      <p id="navigation-footer">
	<a class="previous" accesskey="p" title="Previous Page" href="Conditions"><span>&larr; Previous</span></a>
	<a class="next" accesskey="n" title="Next Page" href="Conditions_Overview"><span>Next Page &rarr;</span></a>
	<a class="up" accesskey="u" title="Chapter Start" href="Conditions"><span>Up</span></a>
	<a class="start" accesskey="s" title="Start of Book" href="Title"><span>Start</span></a>
	<a class="contents" accesskey="c" title="Contents" href="Contents"><span>Contents</span></a>
	<a class="index" accesskey="i" title="Index" href="Index"><span>Index</span></a>
      </p>
      <p>Copyright Apple Computer, Inc. 1996. Apple&reg; and the Apple logo are registered
	trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
      <p>Originally generated with Harlequin WebMaker&reg;, subsequently revised.</p>
    </div>
  </body>
</html>
